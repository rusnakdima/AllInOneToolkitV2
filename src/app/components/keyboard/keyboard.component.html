<div
  class="flex flex-col p-2 mx-auto bg-gray-100 dark:bg-gray-800 rounded-xl shadow-md min-w-full md:min-w-[700px] overflow-x-auto"
>
  <div class="flex flex-col gap-y-1 w-full">
    <div class="flex flex-row gap-x-1 mb-2 overflow-x-auto">
      @for (layout of ["main", "numbers", "function", "symbols", "nav"]; track $index) {
        <button
          (click)="switchLayout(layout)"
          class="px-3 py-1 rounded-md text-xs transition-colors"
          [class.bg-blue-500]="currentLayout === layout"
          [class.text-white]="currentLayout === layout"
          [class.bg-gray-200]="currentLayout !== layout"
          [class.dark:bg-gray-700]="currentLayout !== layout"
        >
          {{ layout }}
        </button>
      }
    </div>

    <div class="flex flex-col gap-y-0.5 overflow-x-auto">
      @if (currentLayout === "main") {
        @for (row of mainLayout; track $index) {
          <div
            class="grid justify-center gap-1 mb-1"
            [style.grid-template-columns]="'repeat(' + row.length + ', 1fr)'"
          >
            @for (key of row; track key.key) {
              <div class="styleKeyBut" (click)="handleKeyPress(key.key)">
                <span class="hidden min-[480px]:block">{{ key.key }}</span>
                <span class="block min-[480px]:hidden">{{ key.label ?? key.key }}</span>
              </div>
            }
          </div>
        }
      }

      @if (currentLayout === "function") {
        @for (row of functionLayout; track $index) {
          <div
            class="grid justify-center gap-1 mb-1"
            [style.grid-template-columns]="'repeat(' + row.length + ', 1fr)'"
          >
            @for (key of row; track key.key) {
              <div class="styleKeyBut" (click)="handleKeyPress(key.key)">
                {{ key.label || key.key }}
              </div>
            }
          </div>
        }
      }

      @if (currentLayout === "numbers") {
        @for (row of numbersLayout; track $index) {
          <div
            class="grid justify-center gap-1 mb-1"
            [style.grid-template-columns]="'repeat(' + row.length + ', 1fr)'"
          >
            @for (key of row; track key.key) {
              <div class="styleKeyBut" (click)="handleKeyPress(key.key)">
                {{ key.label || key.key }}
              </div>
            }
          </div>
        }
      }

      @if (currentLayout === "symbols") {
        @for (row of symbolsLayout; track $index) {
          <div
            class="grid justify-center gap-1 mb-1"
            [style.grid-template-columns]="'repeat(' + row.length + ', 1fr)'"
          >
            @for (key of row; track key.key) {
              <div class="styleKeyBut" (click)="handleKeyPress(key.key)">
                {{ key.label || key.key }}
              </div>
            }
          </div>
        }
      }

      @if (currentLayout === "nav") {
        @for (row of navLayout; track $index) {
          <div
            class="grid justify-center gap-1 mb-1"
            [style.grid-template-columns]="'repeat(' + row.length + ', 1fr)'"
          >
            @for (key of row; track key.key) {
              <div class="styleKeyBut" (click)="handleKeyPress(key.key)">
                {{ key.label || key.key }}
              </div>
            }
          </div>
        }
      }
    </div>
  </div>
</div>
